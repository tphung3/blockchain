import matplotlib.pyplot as plt
from collections import defaultdict

data = [(10, 0.8338558673858643), (10, 4.791853189468384), (10, 3.284801959991455), (10, 1.7041709423065186), (10, 1.7337210178375244), (10, 2.178391218185425), (10, 1.3717408180236816), (10, 4.652362108230591), (10, 0.2609879970550537), (10, 3.649359941482544), (12, 5.014965295791626), (12, 4.943073034286499), (12, 3.609233856201172), (12, 0.343228816986084), (12, 4.219357967376709), (12, 4.606106281280518), (12, 0.596038818359375), (12, 5.086660146713257), (12, 5.14072322845459), (12, 3.124276876449585), (14, 1.7533068656921387), (14, 0.669074296951294), (14, 3.034356117248535), (14, 0.794194221496582), (14, 2.1289279460906982), (14, 12.11513900756836), (14, 8.588531017303467), (14, 2.5346360206604004), (14, 9.262908935546875), (14, 4.294867277145386), (16, 38.953938245773315), (16, 21.253065824508667), (16, 13.470030069351196), (16, 52.56738829612732), (16, 22.049633979797363), (16, 18.892899990081787), (16, 5.534245729446411), (16, 8.04803204536438), (16, 9.890321731567383), (16, 14.779415130615234), (18, 38.007339000701904), (18, 96.18334293365479), (18, 5.319987058639526), (18, 52.272653102874756), (18, 7.50973105430603), (18, 8.522487878799438), (18, 159.09413290023804), (18, 14.3224778175354), (18, 4.278980255126953), (18, 145.98566222190857)]
data_dict = defaultdict(list)
for num_zeros, latency in data:
    data_dict[num_zeros].append(latency)

x_labels = list(set([d[0] for d in data]))
d = [data_dict[x_label] for x_label in x_labels]
pos = list(range(len(x_labels)))

plt.figure()
ax = plt.subplot(111)
plt.violinplot(d, pos)
ax.set_xticks(pos)
ax.set_xticklabels(x_labels)
#ax.set_yscale('log')
ax.set_title("Transaction Latency vs. Mining Difficulty (1 node)")
ax.set_xlabel('# of Zeros in Hash')
ax.set_ylabel('Latency (s)')
plt.show()